<!doctype html>
<html class="no-js" lang="">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <!-- Place favicon.ico in the root directory -->

    <link href='http://fonts.googleapis.com/css?family=Lato&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/d3/radar-chart.min.css">
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <header class="site-header">
        <div class="container">
            <img src="img/header.jpg" class="header-img" />
        </div>
    </header>
    <div class="main-content">
        <div class="container">
            <div class="radar-chart-header cf">
                <h2 class="chart-title">Nutrition Facts Overall</h2>
                <div class="radar-menu-selection" style="display: none;">
                    <label>Add a Food:</label>
                    <input type="text" style="width: 60%;" />
                    <button text="">Search</button>
                </div>
            </div>
            <div class="dashb-painel-2cols cf">
                    <div class="col-info col-info-food1">
                        <label class="label-food">Food 1:</label>
                        <select id="selectFood1" class="foodSelector">
                            <optgroup label="Hamburgers">
                                <option value="21233">MC Donald's Cheeseburger</option>
                                <option value="21251">Burger King Cheeseburger</option>
                                <option value="21214">SUBWAY Tuna Sub</option>
                                <option value="36014">French Fries</option>
                                <option value="36621">Sweet and Sour Chicken</option>
                                <option value="07090">Luncheon Sausage</option>
                                <option value="07080">Turkey Ham</option>
                                <option value="21107">Regular Hamburger Patty</option>
                                <option value="36405">Rice and Black Beans</option>
                            </optgroup>    
                        </select>
                        <div class="panel-food-info" id="panelFoodInfo1">
                            <div class="div-serving-size" id="divServingSize1">
                            </div>
                        </div>
                        <button id="checkFood1" class="btt-check">Update</button>
                    </div>
                    <div class="col col-radar">
                        <div class="radar-panel" id="radarPanel">
                            <div id="results" class="radar-container">
                                Choose the foods and click <b>Check</b> to compare...
                            </div>
                        </div>    
                    </div>
                    <div class="col-info col-info-food2">
                        <label class="label-food">Food 2:</label>
                        <select id="selectFood2" class="foodSelector">
                            <optgroup label="Hamburgers">
                                <option value="21233">MC Donald's Cheeseburger</option>
                                <option value="21251">Burger King Cheeseburger</option>
                                <option value="21214" selected="true">SUBWAY Tuna Sub</option>
                                <option value="36014">French Fries</option>
                                <option value="36621">Sweet and Sour Chicken</option>
                                <option value="07090">Luncheon Sausage</option>
                                <option value="07080">Turkey Ham</option>
                                <option value="21107">Regular Hamburger Patty</option>
                                <option value="36405">Rice and Black Beans</option>
                            </optgroup>
                        </select>
                        
                        <div class="panel-food-info" id="panelFoodInfo2">
                            <div class="div-serving-size" id="divServingSize2">
                            </div>
                        </div>

                        <button id="checkFood2" class="btt-check">Update</button>
                    </div>
            </div>
            <h2 class="chart-title">Minerals and Vitamins</h2>
            <div class="container">
                <div id="bubbleChartContainer">
                </div>
            </div>
        </div>
    </div>
    <footer>

    </footer>

    <!--[if lt IE 8]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

    <!-- Add your site or application content here -->         
    <script src="js/jquery.min.js"></script>
    <script src="js/d3/d3.v3.js"></script>
    <script src="js/d3/RadarChart.js"></script>
    <script src="js/d3/d3plus.js"></script>
    <script src="js/script.js"></script>
    <script type="text/javascript">
        $(document).ready(function(){
            $(".btt-check").click(function(){
                var jxhr = [];
                cleanFoodData();
                
                $.each($(".foodSelector"), function(i, foodSelector){
                    jxhr.push(
                        $.getJSON("secure/requestFood.php?food_id="+$(foodSelector).val(), function( data ) {
                            pushFoodData(data);
                        })
                    );
                });

                $.when.apply($, jxhr).done(function() {
                    createChart("results");
                    $(".food-info").show();
                });
            });

            var jxhr = [];
            cleanFoodData();
            
            $.each($(".foodSelector"), function(i, foodSelector){
                jxhr.push(
                    $.getJSON("secure/requestFood.php?food_id="+$(foodSelector).val(), function( data ) {
                        pushFoodData(data);
                    })
                );
            });

            $.when.apply($, jxhr).done(function() {
                createChart("results");
                $(".food-info").show();
            });
        });
    </script>
</body> 
</html>
